{"name": "Редактирование данных сотрудника", "status": "broken", "statusDetails": {"message": "KeyError: 'url'", "trace": "@allure.id(\"SkyPro-4\")\n    @allure.epic(\"Сотрудники\")\n    @allure.severity(\"blocker\")\n    @allure.story(\"Редактирование данных сотрудника\")\n    @allure.feature(\"UPDATE\")\n    @allure.title(\"Редактирование данных сотрудника\")\n    @allure.suite(\"Тесты на работу с сотрудниками\")\n    def test_patch_employee():\n        with allure.step(\"Cоздать новую организацию\"):\n            name, description = generate_company()\n            db.create_company_db(name, description)\n    \n        max_id = db.get_max_id_company(id)\n    \n        new_company = api.get_company(max_id)\n    \n        api_list_before = api.get_employees_list(max_id)\n        db_list_before = db.get_emploees_db(max_id)\n    \n        with allure.step(\"Добавить нового сотрудника\"):\n            firstName, lastName, middleName, phone, email, birthdate, url, isActive = generate_employee(max_id)\n            db.create_employee_db(firstName, lastName, middleName, phone, email, birthdate, url, max_id, isActive)\n    \n        max_id_empl = db.get_max_id_employee(id)\n    \n        api_list_after = api.get_employees_list(max_id)\n        db_list_after = db.get_emploees_db(max_id)\n    \n        with allure.step(\"Редактировать данные сотрудника\"):\n            new_lastName, new_email, new_url, new_phone, new_isActive = generate_edit_employee(max_id)\n            edited = api.edit_employee(new_lastName, new_email, new_url, new_phone, new_isActive, max_id_empl)\n    \n        with allure.step(\"Проверить разницу\"):\n            with allure.step(\"Проверить, что список API = db до создания сотрудника\"):\n                assert len(api_list_before) == len(db_list_before)\n            with allure.step(\"Проверить, что список API = db после создания сотрудника\"):\n                assert len(api_list_after) == len(db_list_after)\n            with allure.step(\"Проверить, что список ДО меньше списка ПОСЛЕ в API на 1\"):\n                assert len(api_list_after) - len(api_list_before) == 1\n            with allure.step(\"Проверить, что список ДО меньше списка ПОСЛЕ в db на 1\"):\n                assert len(db_list_after) - len(db_list_before) == 1\n    \n        with allure.step(\"Проверить,что поля сотрудника изменены. Корректно заполнены\"):\n>           assert edited[\"url\"] == new_url\nE           KeyError: 'url'\n\nLesson_9\\db_employees_test.py:211: KeyError"}, "steps": [{"name": "Cоздать новую организацию", "status": "passed", "steps": [{"name": "Метод для генерации названия организации", "status": "passed", "start": 1716726692873, "stop": 1716726692875}, {"name": "БД.Создать организацию с названием 'Новикова Анжелика Романовна':'Спорт горький.'", "status": "passed", "attachments": [{"name": "SQL", "source": "7d9063ad-9a13-460c-97ae-8545bcc74a99-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "name", "value": "'Новикова Анжелика Романовна'"}, {"name": "description", "value": "'Спорт горький.'"}], "start": 1716726692876, "stop": 1716726693466}], "start": 1716726692873, "stop": 1716726693466}, {"name": "БД. Получить максимальный <built-in function id> организации", "status": "passed", "attachments": [{"name": "SQL", "source": "bca9a234-5639-4927-b4e6-0308aefae5f0-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "id", "value": "<built-in function id>"}], "start": 1716726693467, "stop": 1716726694063}, {"name": "БД. Получить список сотрудников организации 4144", "status": "passed", "attachments": [{"name": "SQL", "source": "53adff1d-9e42-4251-8046-0bae8e94e094-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "company_id", "value": "4144"}], "start": 1716726698058, "stop": 1716726698667}, {"name": "Добавить нового сотрудника", "status": "passed", "steps": [{"name": "Метод для генерации названий сотрудника", "status": "passed", "parameters": [{"name": "companyId", "value": "4144"}], "start": 1716726698668, "stop": 1716726698670}, {"name": "БД.Создать организацию с названием 'Станимир':'Силин':'Фадейовна':59833470039:'feofan34@example.com':'1976-07-02':'http://www.vishnjakov.org/':4144:True", "status": "passed", "attachments": [{"name": "SQL", "source": "75bfc96c-9bad-4481-90dc-0c95d04ae67e-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "first_name", "value": "'Станимир'"}, {"name": "last_name", "value": "'Силин'"}, {"name": "middle_name", "value": "'Фадейовна'"}, {"name": "phone", "value": "59833470039"}, {"name": "email", "value": "'feofan34@example.com'"}, {"name": "birthdate", "value": "'1976-07-02'"}, {"name": "avatar_url", "value": "'http://www.vishnjakov.org/'"}, {"name": "company_id", "value": "4144"}, {"name": "is_active", "value": "True"}], "start": 1716726698670, "stop": 1716726699265}], "start": 1716726698667, "stop": 1716726699265}, {"name": "БД. Получить максимальный <built-in function id> сотрудника", "status": "passed", "attachments": [{"name": "SQL", "source": "edf54734-7d61-4b93-93e9-c195856731ab-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "id", "value": "<built-in function id>"}], "start": 1716726699266, "stop": 1716726699852}, {"name": "БД. Получить список сотрудников организации 4144", "status": "passed", "attachments": [{"name": "SQL", "source": "3e5d07fe-8bdd-47aa-ba9d-05de7fc72924-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "company_id", "value": "4144"}], "start": 1716726701798, "stop": 1716726702393}, {"name": "Редактировать данные сотрудника", "status": "passed", "steps": [{"name": "Метод для генерации  редактирования названий сотрудника", "status": "passed", "parameters": [{"name": "companyId", "value": "4144"}], "start": 1716726702394, "stop": 1716726702427}], "start": 1716726702393, "stop": 1716726706217}, {"name": "Проверить разницу", "status": "passed", "steps": [{"name": "Проверить, что список API = db до создания сотрудника", "status": "passed", "start": 1716726706218, "stop": 1716726706218}, {"name": "Проверить, что список API = db после создания сотрудника", "status": "passed", "start": 1716726706218, "stop": 1716726706218}, {"name": "Проверить, что список ДО меньше списка ПОСЛЕ в API на 1", "status": "passed", "start": 1716726706218, "stop": 1716726706218}, {"name": "Проверить, что список ДО меньше списка ПОСЛЕ в db на 1", "status": "passed", "start": 1716726706219, "stop": 1716726706219}], "start": 1716726706218, "stop": 1716726706219}, {"name": "Проверить,что поля сотрудника изменены. Корректно заполнены", "status": "broken", "statusDetails": {"message": "KeyError: 'url'\n", "trace": "  File \"C:\\Users\\User\\Documents\\GitHub\\desktop-tutorial\\skypro_python_homeworks22\\Lesson_9\\db_employees_test.py\", line 211, in test_patch_employee\n    assert edited[\"url\"] == new_url\n"}, "start": 1716726706219, "stop": 1716726706219}], "start": 1716726692873, "stop": 1716726706225, "uuid": "c241dbf0-70a9-4768-9756-9d7d5b8b06c6", "historyId": "0c43c0df4f11c9e950b21d5656c44902", "testCaseId": "0c43c0df4f11c9e950b21d5656c44902", "fullName": "Lesson_9.db_employees_test#test_patch_employee", "labels": [{"name": "as_id", "value": "SkyPro-4"}, {"name": "story", "value": "Редактирование данных сотрудника"}, {"name": "feature", "value": "UPDATE"}, {"name": "suite", "value": "Тесты на работу с сотрудниками"}, {"name": "severity", "value": "blocker"}, {"name": "epic", "value": "Сотрудники"}, {"name": "parentSuite", "value": "Lesson_9"}, {"name": "host", "value": "DESKTOP-UVLT28S"}, {"name": "thread", "value": "41740-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Lesson_9.db_employees_test"}]}